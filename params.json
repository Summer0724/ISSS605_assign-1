{"name":"Isss605 assign-1","tagline":"Presented by Kelvin and Summer","body":"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\">\r\n  <title>Login with Firebase</title>\r\n  <script type='text/javascript' src='jquery-2.0.2.js'></script>\r\n  <script type=\"text/javascript\" src=\"jquery-ui.js\"></script>\r\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"jquery-ui.css\">\r\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"result-light.css\">\r\n  <script type='text/javascript' src=\"firebase.js\"></script>\r\n  <script type='text/javascript' src=\"firebase-auth-client.js\"></script>\r\n  <style type='text/css'>\r\n  </style>\r\n<script type='text/javascript'>//<![CDATA[ \r\n$(window).load(function(){\r\nvar ref = new Firebase(\"https://teamplay.firebaseio.com\");\r\n// then go to your firebase console, click the auth tab, scroll down to \r\n// authentication providers, and enable 'email/password'\r\n// Now enter this in the 'Auth' tab to the left.\r\n/*\r\n{\r\n  \"rules\": {\r\n    \"users\": {\r\n      \"$userid\": {\r\n        \".read\": \"auth.id == $userid\",\r\n        \".write\": \"auth.id == $userid\"\r\n      }\r\n    }\r\n  }\r\n}\r\n*/\r\n//\r\n\r\n// global user (is this a good thing?)\r\nmyUser = -1;\r\n\r\n$(function () {\r\n    $(\"#dialog-register\").dialog({\r\n        autoOpen: false,\r\n        buttons: {\r\n            \"Submit\": function () {\r\n\r\n                var email = $(\"#register-email\").val();\r\n                var password = $(\"#register-password\").val();\r\n                authClient.createUser(email, password, function (error, user) {\r\n                    if (!error) {\r\n                        console.log('logging new registered user');\r\n                        doLogin(email, password);\r\n                    } else {\r\n                        alert(error);\r\n                    }\r\n                });\r\n\r\n                $(this).dialog(\"close\");\r\n            },\r\n            Cancel: function () {\r\n                $(this).dialog(\"close\");\r\n            }\r\n        }\r\n    });\r\n\r\n    $(\"#dialog-login\").dialog({\r\n        autoOpen: false,\r\n        buttons: {\r\n            \"Submit\": function () {\r\n                console.log('trying to login: ' + $(\"#login-email\").val());\r\n\r\n                var email = $(\"#login-email\").val();\r\n                var password = $(\"#login-password\").val();\r\n\r\n                doLogin(email, password);\r\n                $(this).dialog(\"close\");\r\n            },\r\n            Cancel: function () {\r\n                $(this).dialog(\"close\");\r\n            }\r\n        }\r\n    });\r\n\r\n    $(\"#opener-register\").click(function () {\r\n        $(\"#dialog-register\").dialog(\"open\");\r\n    });\r\n\r\n    $(\"#opener-login\").click(function () {\r\n        $(\"#dialog-login\").dialog(\"open\");\r\n    });\r\n\r\n    $(\"#opener-logout\").click(function () {\r\n        authClient.logout();\r\n    });\r\n});\r\n\r\nfunction doLogin(email, password) {\r\n    authClient.login('password', {\r\n        email: email,\r\n        password: password\r\n    });\r\n};\r\n\r\nvar authClient = new FirebaseAuthClient(ref, function (error, user) {\r\n    if (error) {\r\n        alert(error);\r\n        return;\r\n    }\r\n    if (user) {\r\n        // User is already logged in.\r\n        console.log('User ID: ' + user.id + ', Provider: ' + user.provider);\r\n        myUser = user;\r\n        window.open('TeamPlay.html')\r\n        // doLogin(user);\r\n        console.log('logged in')\r\n        $(\"#data\").attr('disabled', false);\r\n        $(\"#opener-logout\").attr('disabled', false);\r\n        $(\"#opener-login\").attr('disabled', true);\r\n    } else {\r\n        // User is logged out.\r\n        console.log('logged out');\r\n        $(\"#data\").attr('disabled', true);\r\n        $(\"#opener-logout\").attr('disabled', true);\r\n        $(\"#opener-login\").attr('disabled', false);\r\n        // (\"#dialog-form\").dialog(\"open\");\r\n    }\r\n});\r\n\r\n\r\n\r\n$('#data').keypress(function (e) {\r\n    if (e.keyCode == 13) {\r\n        var data = $('#data').val();\r\n        console.log(myUser.id);\r\n        var myRef = new Firebase(\"https://teamplay.firebaseio.com/users/\" + myUser.id);\r\n        myRef.push({\r\n            data: data\r\n        });\r\n        $('#data').val('');\r\n    }\r\n});\r\n});//]]>  \r\n\r\n</script>\r\n\r\n\r\n</head>\r\n<body>\r\n<h1><center><b>T E A M P L A Y</b></center></h1>\r\n  <div id=\"dialog-register\" title=\"Registration\">\r\n    <form>\r\n        <fieldset>\r\n            <label for=\"name\">Email</label>\r\n            <input type=\"text\" name=\"email\" id=\"register-email\" class=\"text ui-widget-content ui-corner-all\" />\r\n            <label for=\"password\">Password</label>\r\n            <input type=\"password\" name=\"password\" id=\"register-password\" value=\"\" class=\"text ui-widget-content ui-corner-all\" />\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n<div id=\"dialog-login\" title=\"Login\">\r\n    <form>\r\n        <fieldset>\r\n            <label for=\"name\">Email</label>\r\n            <input type=\"text\" name=\"email\" id=\"login-email\" class=\"text ui-widget-content ui-corner-all\" />\r\n            <label for=\"password\">Password</label>\r\n            <input type=\"password\" name=\"password\" id=\"login-password\" value=\"\" class=\"text ui-widget-content ui-corner-all\" />\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n<center>\r\n<button id=\"opener-register\">REGISTER</button>\r\n<button id=\"opener-login\">LOGIN</button>\r\n<button id=\"opener-logout\">LOGOUT</button>\r\n</center>\r\n<br />\r\n  \r\n</body>\r\n\r\n</html>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}